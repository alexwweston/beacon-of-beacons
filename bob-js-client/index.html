<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Global Alliance for Genomics and Health - Beacon of Beacons</title>

        <!-- Bootstrap -->
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href="css/custom.css" rel="stylesheet">

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->

        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="js/jquery-1.11.1.min.js"></script>
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="js/bootstrap.min.js"></script>
        <script src="js/bootstrap-switch.min.js"></script>
        <script>
            function getBeacons() {
                var xmlhttp;
                if (window.XMLHttpRequest) {// code for IE7+, Firefox, Chrome, Opera, Safari
                    xmlhttp = new XMLHttpRequest();
                } else {// code for IE6, IE5
                    xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
                }
                xmlhttp.onreadystatechange = function () {

                    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                        obj = JSON.parse(xmlhttp.responseText);
                        var arrayLength = obj.length;
                        var resultTable = '<select class="form-control" name="beacon">';
                        resultTable += '<option value="all">All</option>';
                        for (var i = 0; i < arrayLength; i++) {
                            if (obj[i] != null) {
                                var tags = (obj[i].aggregator)?"[aggregator]":"";
                                resultTable += '<option value="' + obj[i].id + '">' + obj[i].name + ' (' + obj[i].organization + ') ' + tags + '</option>';
                            }
                        }
                        resultTable += "</select>";

                        document.getElementById("beaconlist").innerHTML = resultTable;
                    }
                };

                var url = "http://dnastack.com/ga4gh/bob/api-beacons.php";
                xmlhttp.open("GET", url, true);
                xmlhttp.send();
            }
        </script>
        <script>
			$(function() {
				$("#banner").load("banner.html");
			});
		</script>
    </head>
    <body>
        <script>
            getBeacons();
        </script>
        <div class="container">
        	<div class="row row-centered">
        		<div id="banner"></div>
        	</div>
            <div class="row row-centered">
                <div class="col-xs-6 col-centered wide-container">
                    <div id="banner"></div>

                    <form class="form-horizontal" action="query.html">
                        <div class="form-group">
                            <label for="beacon" class="control-label col-xs-2">Beacons</label>
                            <div class="col-xs-10" id="beaconlist">
                                <!-- this is the global checkbox -->
                                <div class="input-group" id="rowSelectAll">
                                    <span class="input-group-addon">
                                    <input type="checkbox" id="rowSelectAllc">
                                    </span>
                                    <label for="rowSelectAllc" class="form-control">Beacons</label>
                                </div>
                                <div class="input-group">
                                    <span class="input-group-addon">
                                    <input type="checkbox" class="row-select">
                                    </span>
                                    <label class="form-control">Beacons</label>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="chrom" class="control-label col-xs-2">Chromosome</label>
                            <div class="col-xs-10">
                                <select class="form-control" name="chrom">
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5</option>
                                    <option value="6">6</option>
                                    <option value="7">7</option>
                                    <option value="8">8</option>
                                    <option value="9">9</option>
                                    <option value="10">10</option>
                                    <option value="11">11</option>
                                    <option value="12">12</option>
                                    <option value="13">13</option>
                                    <option value="14">14</option>
                                    <option value="15">15</option>
                                    <option value="16">16</option>
                                    <option value="17">17</option>
                                    <option value="18">18</option>
                                    <option value="19">19</option>
                                    <option value="20">20</option>
                                    <option value="21">21</option>
                                    <option value="22">22</option>
                                    <option value="X">X</option>
                                    <option value="Y">Y</option>
                                    <option value="MT">MT</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="position" class="control-label col-xs-2">Position</label>
                            <div class="col-xs-10">
                                <input type="text" class="form-control" name="pos" placeholder="">
                                <small style="color:rgb(130,130,130)">1-based coordinate</small>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="alt" class="control-label col-xs-2">Alt</label>
                            <div class="col-xs-10">
                                <input type="text" class="form-control" name="alt" placeholder="">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="ref" class="control-label col-xs-2">Genome</label>
                            <div class="col-xs-10">
                                <select class="form-control" name="ref">
                                    <option value="all">All</option>
                                    <option value="hg18">GRCh36/hg18</option>
                                    <option value="hg19">GRCh37/hg19</option>
                                    <option value="hg38">GRCh38/hg38</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-xs-offset-2 col-xs-10 row-centered">
                                <button type="submit" class="btn btn-primary full">
                                    Query
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <script>
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r;
                i[r] = i[r] ||
                        function () {
                            (i[r].q = i[r].q || []).push(arguments)
                        }, i[r].l = 1 * new Date();
                a = s.createElement(o), m = s.getElementsByTagName(o)[0];
                a.async = 1;
                a.src = g;
                m.parentNode.insertBefore(a, m)
            })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

            ga('create', 'UA-52918106-1', 'auto');
            ga('require', 'displayfeatures');
            ga('send', 'pageview');
        </script>
    </body>
</html>
